<div class="container-fluid">
    <oui-back-button on-click="$ctrl.goBack()">
        <span
            data-ng-if="!$ctrl.engagement"
            data-translate="billing_commitment_commit"
        ></span>
        <span
            data-ng-if="$ctrl.engagement"
            data-translate="billing_commitment_commit_again"
        ></span>
    </oui-back-button>

    <div>
        <p
            data-ng-if="!$ctrl.engagement"
            data-translate="billing_commitment_none"
            data-translate-values="{
        serviceName: $ctrl.service.name,
        serviceType:(('billing_commitment_service_' + $ctrl.service.productType) | translate)
    }"
        ></p>
        <p
            data-ng-if="$ctrl.engagement"
            data-translate="billing_commitment_commit_again_description"
            data-translate-values="{
    serviceName: $ctrl.service.name,
    endDate: null,
    serviceType:(('billing_commitment_service_' + $ctrl.service.productType) | translate)
}"
        ></p>
    </div>

    <oui-stepper on-init="$ctrl.onInit()" on-finish="$ctrl.onFinish(forms)">
        <oui-step-form
            name="duration"
            header="{{:: 'billing_commitment_duration' | translate}}"
            description="{{:: 'billing_commitment_duration_current_price' | translate:{ price: 0 }  }}"
            on-cancel="$ctrl.onCancel()"
            on-focus="$ctrl.onFocus('step1')"
            on-submit="$ctrl.onSubmit(form)"
        >
            <oui-select-picker
                disabled="$ctrl.disabled"
                name="ouiSelectPicker1"
                model="$ctrl.duration"
                label="Value A"
                on-change="$ctrl.onChange(modelValue)"
                values="$ctrl.values1"
            >
            </oui-select-picker>

            <oui-select-picker
                disabled="$ctrl.disabled"
                name="ouiSelectPicker1"
                model="$ctrl.model"
                label="Value B"
                on-change="$ctrl.onChange(modelValue)"
                values="$ctrl.values2"
            >
            </oui-select-picker>
        </oui-step-form>

        <oui-step-form
            ng-if="!$ctrl.engagement"
            name="payment"
            header="{{:: 'billing_commitment_payment' | translate}}"
            description="{{:: 'billing_commitment_payment_description' | translate }}"
            on-cancel="$ctrl.onCancel()"
            on-focus="$ctrl.onFocus('step1')"
            on-submit="$ctrl.onSubmit(form)"
        >
            <oui-select-picker
                disabled="$ctrl.disabled"
                name="ouiSelectPicker1"
                model="$ctrl.payment"
                label="Value A"
                on-change="$ctrl.onChange(modelValue)"
                values="$ctrl.values1"
            >
            </oui-select-picker>

            <oui-select-picker
                disabled="$ctrl.disabled"
                name="ouiSelectPicker1"
                model="$ctrl.model"
                label="Value B"
                on-change="$ctrl.onChange(modelValue)"
                values="$ctrl.values2"
            >
            </oui-select-picker>

            <a
                data-ng-href="{{ $ctrl.addPaymentMethodUrl }}"
                data-translate="billing_commitment_payment_method_add"
            >
            </a>
        </oui-step-form>

        <!-- <oui-step-form
            ng-if="!$ctrl.engagement"
            name="paymentMethod"
            header="{{:: 'billing_commitment_payment_method' | translate}}"
            valid="!!$ctrl.paymentMethod"
            on-cancel="$ctrl.onCancel()"
            on-focus="$ctrl.generatePaymentMethodUrl()"
            on-submit="$ctrl.onSubmit(form)"
        >


        </oui-step-form> -->

        <oui-step-form
            name="refund"
            header="{{:: 'billing_commitment_refund' | translate}}"
            description="{{:: 'billing_commitment_refund_description' | translate }}"
        >
        </oui-step-form>

        <oui-step-form
            name="summary"
            header="{{:: 'billing_commitment_summary' | translate}}"
            on-cancel="$ctrl.goBack()"
        >
            <ovh-payment-method-choice model="$ctrl.paymentMethod">
            </ovh-payment-method-choice>
            <p
                data-translate="billing_commitment_summary_description_monthly"
                data-translate-values="{
                    serviceName: $ctrl.service.name
                }"
            ></p>
            <p
                data-translate="billing_commitment_summary_description_all"
                data-translate-values="{
                serviceName: $ctrl.service.name
            }"
            ></p>
            <p
                data-translate="billing_commitment_summary_description_payment"
                data-translate-values="{
                paymentMethodType: $ctrl.paymentMethod.label,
                paymentMethodName: $ctrl.paymentMethod.description
            }"
            ></p>
            <p data-translate="billing_commitment_summary_description_end"></p>
        </oui-step-form>
    </oui-stepper>
</div>
